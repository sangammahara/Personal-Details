<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sangam Mahara — Portfolio</title>
  <meta name="description" content="Sangam Mahara — Grade 11 student, artist, and programmer from Dharan, Nepal.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#071a1a; /* dim dark cyan background */
      --panel:#0b2424;
      --muted:#9fb9b9;
      --accent:#2aa198; /* teal-cyan */
      --glass: rgba(255,255,255,0.03);
      --radius:14px;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#e6f6f6;background:linear-gradient(180deg,var(--bg),#021010);-webkit-font-smoothing:antialiased}
    .wrap{max-width:1024px;margin:36px auto;padding:20px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);padding:20px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 40px rgba(2,10,10,0.6)}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#13595a);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:#021010;box-shadow:0 6px 26px rgba(42,161,152,0.12)}
    h1{font-size:24px;margin:0}
    .subtitle{color:var(--muted);font-weight:500}
    nav{display:flex;gap:8px}
    a.btn{padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit;text-decoration:none;font-weight:600}
    a.btn:hover{background:rgba(255,255,255,0.02)}

    .layout{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-top:18px}
    .left{padding:18px}
    .right{padding:16px}

    .profile-card{display:flex;gap:16px;align-items:center}
    .avatar{width:120px;height:120px;border-radius:16px;background:linear-gradient(180deg,#062c2b,#0a1e1e);display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:600;overflow:hidden}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .info{flex:1}
    .info h2{margin:0;font-size:22px}
    .meta{color:var(--muted);margin-top:6px}

    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:16px}
    .info-box{background:var(--panel);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
    .label{font-size:12px;color:var(--muted)}
    .value{font-weight:700;margin-top:6px}

    section{margin-top:18px}
    .section-title{display:flex;align-items:center;justify-content:space-between}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-weight:600;color:var(--muted)}

    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:12px}
    .gallery .item{height:110px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;color:var(--muted);overflow:hidden}
    .gallery img{width:100%;height:100%;object-fit:cover;display:block}

    footer{margin-top:20px;padding-top:12px;border-top:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center}

    /* Edit button */
    #edit-btn{position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,var(--accent),#2bd1c8);color:#012423;border:none;padding:12px 16px;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 8px 26px rgba(42,161,152,0.16)}

    /* Full-screen editor overlay */
    #editorOverlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,10,10,0.8),rgba(2,10,10,0.9));backdrop-filter:blur(6px);display:none;z-index:9999;padding:28px;overflow:auto}
    #editorPanel{max-width:980px;margin:40px auto;background:#071515;border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04)}
    #editorPanel h2{margin-top:0}
    .form-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=text], input[type=url], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
    textarea{resize:vertical}
    .full{grid-column:1/-1}
    .actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px}
    .btn-primary{padding:10px 14px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--accent),#2bd1c8);color:#012423;font-weight:700;cursor:pointer}
    .btn-muted{padding:10px 14px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);cursor:pointer}

    /* small helpers */
    .note{font-size:13px;color:var(--muted);margin-top:6px}
    @media (max-width:880px){.layout{grid-template-columns:1fr}.form-grid{grid-template-columns:1fr}.avatar{width:96px;height:96px}.logo{width:60px;height:60px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="brand">
          <div class="logo">SM</div>
          <div>
            <h1 id="pageName">Sangam Mahara</h1>
            <div class="subtitle" id="pageSubtitle">Grade 11 • Portrait Artist • Programmer</div>
          </div>
        </div>
        <nav>
          <a class="btn" href="#about">About</a>
          <a class="btn" href="#education">Education</a>
          <a class="btn" href="#gallery">Gallery</a>
          <a class="btn" href="#contact">Contact</a>
        </nav>
      </header>

      <div class="layout">
        <div class="left">
          <div class="profile-card">
            <div class="avatar" id="avatar">Add Photo</div>
            <div class="info">
              <h2 id="fullName">Sangam Mahara</h2>
              <div class="meta" id="meta">17 • Grade 11 (Science) • Edutek College</div>
              <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
                <div class="chip" id="chip1">Ambivert</div>
                <div class="chip" id="chip2">Ectomorph</div>
                <div class="chip" id="chip3">Pencil Portraits</div>
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="info-box">
              <div class="label">Date of Birth</div>
              <div class="value" id="dob">January 23, 2007</div>
            </div>
            <div class="info-box">
              <div class="label">Birth Place</div>
              <div class="value" id="birthplace">Dharan, Sunsari, Nepal</div>
            </div>
            <div class="info-box">
              <div class="label">Current Address</div>
              <div class="value" id="currentAddress">Sundarharaincha-6, Morang, Dulari, Nepal</div>
            </div>
            <div class="info-box">
              <div class="label">Contact</div>
              <div class="value" id="contactPhone">9764888745</div>
            </div>
          </div>

          <section id="about">
            <div class="section-title">
              <h3>About</h3>
              <div class="small subtitle">A quick introduction</div>
            </div>
            <p id="bio" style="color:var(--muted);margin-top:10px">I enjoy creating realistic pencil portraits and learning programming. I balance creative work with fitness and strategy games like chess. Curious, disciplined, and always learning.</p>
          </section>

          <section id="education">
            <div class="section-title"><h3>Education</h3><div class="small subtitle">Where I study</div></div>
            <p style="color:var(--muted);margin-top:8px">Currently studying <strong>Grade 11 (Science)</strong> with Computer as an optional subject at <a id="collegeLink" href="#" target="_blank">Edutek College</a>. Completed Grade 10 from <strong id="schoolName">Purwanchal Academy</strong>.</p>
          </section>

        </div>

        <aside class="right">
          <div style="text-align:center;margin-bottom:12px">
            <h4 style="margin:6px 0">Profile</h4>
            <div class="small" style="color:var(--muted)">Add your personal photo to make the page yours</div>
          </div>

          <div style="margin-top:12px">
            <h4 style="margin:6px 0">Quick Links</h4>
            <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
              <a class="btn" href="#gallery">View Gallery</a>
              <a class="btn" href="#contact">Contact</a>
              <a class="btn" href="#" onclick="downloadCV(event)">Download CV</a>
            </div>
          </div>

          <div style="margin-top:18px">
            <h4 style="margin:6px 0">Contact</h4>
            <div style="color:var(--muted);margin-top:8px">Phone: <strong id="contactPhone2">9764888745</strong></div>
            <div style="color:var(--muted);margin-top:8px">Mother: <strong id="motherName">Muna Mahara</strong></div>
          </div>

        </aside>
      </div>

      <section id="gallery" class="card" style="margin-top:18px">
        <div class="section-title"><h3>Gallery</h3><div class="small subtitle">A few selected sketches (you can add more)</div></div>
        <div class="gallery" id="galleryGrid">
          <!-- images will appear here -->
        </div>
      </section>

      <section id="contact" class="card" style="margin-top:18px">
        <div class="section-title"><h3>Contact</h3><div class="small subtitle">Reach out</div></div>
        <p style="color:var(--muted);">For collaborations, feedback, or anything else — call or message on WhatsApp at <strong id="contactPhone3">9764888745</strong> or use the social links below.</p>
        <div style="margin-top:12px;display:flex;gap:12px">
          <a class="btn" href="#">Instagram</a>
          <a class="btn" href="#">GitHub</a>
          <a class="btn" href="#">Email</a>
        </div>
      </section>

      <footer>
        <div>© <span id="year"></span> Sangam Mahara — All rights reserved</div>
        <div style="color:var(--muted)">Designed for a clean personal profile • Dim Dark Cyan theme</div>
      </footer>

    </div>
  </div>

  <!-- Edit button & Fullscreen Editor Overlay -->
  <button id="edit-btn" title="Edit page">Edit</button>

  <div id="editorOverlay" aria-hidden="true">
    <div id="editorPanel">
      <h2>Edit Page — All Fields</h2>
      <p class="note">Enter your secure key to unlock the editor. (Your key is kept private; the page stores only a secure hash.)</p>

      <div id="unlockRow" style="margin-top:12px">
        <label>Secure Key</label>
        <input type="text" id="accessKey" placeholder="Enter your key" />
        <div style="height:8px"></div>
        <button class="btn-primary" onclick="unlockEditor()">Unlock Editor</button>
        <button class="btn-muted" onclick="closeEditor()">Cancel</button>
      </div>

      <form id="editorForm" style="display:none;margin-top:12px" onsubmit="event.preventDefault();saveEditor();">
        <div class="form-grid">
          <div>
            <label>Full name</label>
            <input type="text" id="editFullName" />
          </div>
          <div>
            <label>Date of Birth</label>
            <input type="text" id="editDOB" placeholder="e.g., January 23, 2007" />
          </div>

          <div>
            <label>Birthplace</label>
            <input type="text" id="editBirthplace" placeholder="Dharan, Sunsari, Nepal" />
          </div>
          <div>
            <label>Current Location</label>
            <input type="text" id="editCurrentAddress" placeholder="Sundarharaincha-6, Morang, Dulari, Nepal" />
          </div>

          <div>
            <label>Contact Phone</label>
            <input type="text" id="editContact" />
          </div>
          <div>
            <label>Mother's Name</label>
            <input type="text" id="editMother" />
          </div>

          <div>
            <label>College Name</label>
            <input type="text" id="editCollegeName" />
          </div>
          <div>
            <label>College Link (URL)</label>
            <input type="url" id="editCollegeLink" placeholder="https://..." />
          </div>

          <div>
            <label>School (Grade 10)</label>
            <input type="text" id="editSchool" />
          </div>
          <div>
            <label>Subtitle (small line under your name)</label>
            <input type="text" id="editSubtitle" />
          </div>

          <div class="full">
            <label>Short Bio</label>
            <textarea id="editBio" rows="3"></textarea>
          </div>

          <div>
            <label>Hobby / Chip 1</label>
            <input type="text" id="editChip1" />
          </div>
          <div>
            <label>Hobby / Chip 2</label>
            <input type="text" id="editChip2" />
          </div>
          <div>
            <label>Hobby / Chip 3</label>
            <input type="text" id="editChip3" />
          </div>
          <div>
            <label>Year (auto)</label>
            <input type="text" id="editYear" disabled />
          </div>

          <div class="full">
            <label>Upload Profile Picture</label>
            <input type="file" id="uploadAvatar" accept="image/*" />
          </div>

          <div class="full">
            <label>Upload Gallery Images (multiple allowed)</label>
            <input type="file" id="uploadGallery" accept="image/*" multiple />
            <div class="note">Existing gallery images will be preserved and new ones appended.</div>
          </div>

        </div>

        <div class="actions">
          <button class="btn-muted" type="button" onclick="resetEditorValues()">Reset to saved</button>
          <button class="btn-primary" type="submit">Save All Changes</button>
        </div>

        <div class="note" style="margin-top:10px">All changes are stored locally in your browser. To publish permanently, replace the live <code>index.html</code> with this file and upload gallery images to your repo if you want them available across devices.</div>
      </form>

    </div>
  </div>

  <script>
    // stored SHA-256 hash of the key (hunterx54321@#)
    const storedHash = '85d9dde59dd54cc5676e7315baa720f21a16401ef3040569aa2f39c05c0f04f6';

    function toHex(buf){
      return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    }
    async function sha256(text){
      const enc = new TextEncoder();
      const data = enc.encode(text);
      const hash = await crypto.subtle.digest('SHA-256', data);
      return toHex(hash);
    }

    // UI functions
    document.getElementById('edit-btn').addEventListener('click', ()=>{
      document.getElementById('editorOverlay').style.display='block';
      document.getElementById('editorOverlay').setAttribute('aria-hidden','false');
      document.getElementById('accessKey').focus();
    });
    function closeEditor(){document.getElementById('editorOverlay').style.display='none';document.getElementById('editorOverlay').setAttribute('aria-hidden','true');}

    async function unlockEditor(){
      const key = document.getElementById('accessKey').value || '';
      const h = await sha256(key);
      if(h === storedHash){
        document.getElementById('unlockRow').style.display='none';
        document.getElementById('editorForm').style.display='block';
        document.getElementById('accessKey').value='';
        loadEditorValues();
      } else {
        alert('Wrong key — access denied.');
      }
    }

    // load saved values into editor fields
    function loadEditorValues(){
      const data = JSON.parse(localStorage.getItem('sangam_page')||'{}');
      document.getElementById('editFullName').value = data.fullName || 'Sangam Mahara';
      document.getElementById('editDOB').value = data.dob || 'January 23, 2007';
      document.getElementById('editBirthplace').value = data.birthplace || 'Dharan, Sunsari, Nepal';
      document.getElementById('editCurrentAddress').value = data.currentAddress || 'Sundarharaincha-6, Morang, Dulari, Nepal';
      document.getElementById('editContact').value = data.contact || '9764888745';
      document.getElementById('editMother').value = data.mother || 'Muna Mahara';
      document.getElementById('editCollegeName').value = data.collegeName || 'Edutek College';
      document.getElementById('editCollegeLink').value = data.collegeLink || '';
      document.getElementById('editSchool').value = data.school || 'Purwanchal Academy';
      document.getElementById('editSubtitle').value = data.subtitle || 'Grade 11 • Portrait Artist • Programmer';
      document.getElementById('editBio').value = data.bio || document.getElementById('bio').textContent.trim();
      document.getElementById('editChip1').value = data.chip1 || 'Ambivert';
      document.getElementById('editChip2').value = data.chip2 || 'Ectomorph';
      document.getElementById('editChip3').value = data.chip3 || 'Pencil Portraits';
      document.getElementById('editYear').value = new Date().getFullYear();
    }

    function resetEditorValues(){loadEditorValues();}

    // save everything
    function saveEditor(){
      const data = JSON.parse(localStorage.getItem('sangam_page')||'{}');
      data.fullName = document.getElementById('editFullName').value.trim() || 'Sangam Mahara';
      data.dob = document.getElementById('editDOB').value.trim() || 'January 23, 2007';
      data.birthplace = document.getElementById('editBirthplace').value.trim() || 'Dharan, Sunsari, Nepal';
      data.currentAddress = document.getElementById('editCurrentAddress').value.trim() || 'Sundarharaincha-6, Morang, Dulari, Nepal';
      data.contact = document.getElementById('editContact').value.trim() || '9764888745';
      data.mother = document.getElementById('editMother').value.trim() || 'Muna Mahara';
      data.collegeName = document.getElementById('editCollegeName').value.trim() || 'Edutek College';
      data.collegeLink = document.getElementById('editCollegeLink').value.trim() || '';
      data.school = document.getElementById('editSchool').value.trim() || 'Purwanchal Academy';
      data.subtitle = document.getElementById('editSubtitle').value.trim() || 'Grade 11 • Portrait Artist • Programmer';
      data.bio = document.getElementById('editBio').value.trim() || document.getElementById('bio').textContent.trim();
      data.chip1 = document.getElementById('editChip1').value.trim() || 'Ambivert';
      data.chip2 = document.getElementById('editChip2').value.trim() || 'Ectomorph';
      data.chip3 = document.getElementById('editChip3').value.trim() || 'Pencil Portraits';

      // avatar upload
      const avatarFile = document.getElementById('uploadAvatar').files[0];
      if(avatarFile){
        const reader = new FileReader();
        reader.onload = function(e){
          data.avatar = e.target.result; // dataURL
          finalizeSave(data);
        }
        reader.readAsDataURL(avatarFile);
      } else {
        finalizeSave(data);
      }

      // gallery upload (append)
      const galleryFiles = document.getElementById('uploadGallery').files;
      if(galleryFiles && galleryFiles.length){
        const existing = data.gallery || [];
        let loaded = 0;
        for(let i=0;i<galleryFiles.length;i++){
          const f = galleryFiles[i];
          const r = new FileReader();
          r.onload = function(ev){
            existing.push(ev.target.result);
            loaded++;
            if(loaded === galleryFiles.length){
              data.gallery = existing;
              localStorage.setItem('sangam_page', JSON.stringify(data));
              applyData(data);
            }
          }
          r.readAsDataURL(f);
        }
      }

      // if no gallery files, applyData will be called in finalizeSave
    }

    function finalizeSave(data){
      localStorage.setItem('sangam_page', JSON.stringify(data));
      applyData(data);
      alert('All changes saved locally in your browser. To publish permanently, upload this file and assets to your GitHub repo.');
      closeEditor();
    }

    // apply data to page
    function applyData(data){
      document.getElementById('pageName').textContent = data.fullName || 'Sangam Mahara';
      document.getElementById('fullName').textContent = data.fullName || 'Sangam Mahara';
      document.getElementById('pageSubtitle').textContent = data.subtitle || 'Grade 11 • Portrait Artist • Programmer';
      document.getElementById('meta').textContent = (new Date().getFullYear() -  (new Date(data.dob||'2007-01-23').getFullYear())) + ' • '+ (data.subtitle || 'Grade 11 • Portrait Artist • Programmer');
      document.getElementById('dob').textContent = data.dob || 'January 23, 2007';
      document.getElementById('birthplace').textContent = data.birthplace || 'Dharan, Sunsari, Nepal';
      document.getElementById('currentAddress').textContent = data.currentAddress || 'Sundarharaincha-6, Morang, Dulari, Nepal';
      document.getElementById('contactPhone').textContent = data.contact || '9764888745';
      document.getElementById('contactPhone2').textContent = data.contact || '9764888745';
      document.getElementById('contactPhone3').textContent = data.contact || '9764888745';
      document.getElementById('motherName').textContent = data.mother || 'Muna Mahara';
      document.getElementById('schoolName').textContent = data.school || 'Purwanchal Academy';
      document.getElementById('bio').textContent = data.bio || document.getElementById('bio').textContent;
      document.getElementById('chip1').textContent = data.chip1 || 'Ambivert';
      document.getElementById('chip2').textContent = data.chip2 || 'Ectomorph';
      document.getElementById('chip3').textContent = data.chip3 || 'Pencil Portraits';
      if(data.collegeLink){document.getElementById('collegeLink').href = data.collegeLink;document.getElementById('collegeLink').textContent = data.collegeName || 'Edutek College';}

      // avatar
      if(data.avatar){
        document.getElementById('avatar').innerHTML = '';
        const img = document.createElement('img'); img.src = data.avatar; img.alt='Profile'; img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover'; img.style.borderRadius='12px';
        document.getElementById('avatar').appendChild(img);
      }

      // gallery
      const grid = document.getElementById('galleryGrid'); grid.innerHTML='';
      const gallery = data.gallery || [];
      if(gallery.length===0){
        for(let i=1;i<=4;i++){
          const div=document.createElement('div');div.className='item';div.textContent='Sketch '+i;grid.appendChild(div);
        }
      } else {
        gallery.forEach(src=>{const d=document.createElement('div');d.className='item';const im=document.createElement('img');im.src=src;d.appendChild(im);grid.appendChild(d);});
      }
    }

    // initialize
    document.getElementById('year').textContent = new Date().getFullYear();
    (function(){
      const data = JSON.parse(localStorage.getItem('sangam_page')||'{}');
      // set defaults
      if(!data.fullName) data.fullName='Sangam Mahara';
      if(!data.contact) data.contact='9764888745';
      if(!data.dob) data.dob='January 23, 2007';
      if(!data.birthplace) data.birthplace='Dharan, Sunsari, Nepal';
      if(!data.currentAddress) data.currentAddress='Sundarharaincha-6, Morang, Dulari, Nepal';
      if(!data.mother) data.mother='Muna Mahara';
      if(!data.school) data.school='Purwanchal Academy';
      if(!data.collegeName) data.collegeName='Edutek College';
      if(!data.subtitle) data.subtitle='Grade 11 • Portrait Artist • Programmer';
      localStorage.setItem('sangam_page', JSON.stringify(data));
      applyData(data);
    })();

    // close editor on Escape
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ closeEditor(); }});

    function downloadCV(e){e.preventDefault();alert('To add your CV, upload it to your repo and update the CV link in the HTML or replace this placeholder with a file path.');}
  </script>
</body>
</html>
